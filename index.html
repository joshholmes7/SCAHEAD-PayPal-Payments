<style>
    /* Fix remove button size */
    .remove-btn {
        background: red;
        color: white;
        border: none;
        padding: 3px 7px;
        cursor: pointer;
        border-radius: 3px;
        width: auto; /* Fix issue */
    }

    .donation-label {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-top: 10px;
    }
</style>

<script>
    function addRegistration() {
        let index = registrations.length;
        registrations.push({ name: "", institution: "" });

        let container = document.getElementById("registration-container");
        let div = document.createElement("div");
        div.innerHTML = `
            <h4>Conference Registration #${index + 1}</h4>
            <select class="conference-type" onchange="updateCart()">
                <option value="25.00">Individual Member - $25.00</option>
                <option value="35.00">Individual Non-Member - $35.00</option>
            </select>
            <input type="text" class="registrant-name" placeholder="Name" oninput="updateCart()">
            <input type="text" class="registrant-institution" placeholder="Institution" oninput="updateCart()">
        `;
        container.appendChild(div);
        updateCart();
    }

    function addMembership() {
        let index = memberships.length;
        memberships.push({ name: "", institution: "" });

        let container = document.getElementById("membership-container");
        let div = document.createElement("div");
        div.innerHTML = `
            <h4>Membership #${index + 1}</h4>
            <select class="membership-type" onchange="updateCart()">
                <option value="50.00">24-25 - $50.00</option>
                <option value="50.00">25-26 - $50.00</option>
            </select>
            <input type="text" class="member-name" placeholder="Name" oninput="updateCart()">
            <input type="text" class="member-institution" placeholder="Institution" oninput="updateCart()">
        `;
        container.appendChild(div);
        updateCart();
    }

    function updateCart() {
        cartItems = [];

        document.querySelectorAll(".conference-type").forEach((select, index) => {
            let name = document.querySelectorAll(".registrant-name")[index]?.value || "";
            let institution = document.querySelectorAll(".registrant-institution")[index]?.value || "";
            cartItems.push({ 
                name: `Conference Registration for ${name} (${institution})`, 
                price: parseFloat(select.value) 
            });
        });

        document.querySelectorAll(".membership-type").forEach((select, index) => {
            let name = document.querySelectorAll(".member-name")[index]?.value || "";
            let institution = document.querySelectorAll(".member-institution")[index]?.value || "";
            cartItems.push({ 
                name: `Membership for ${name} (${institution})`, 
                price: parseFloat(select.value) 
            });
        });

        updateCartDisplay();
    }

    function updateCartDisplay() {
        let cartDiv = document.getElementById("cart");
        cartDiv.innerHTML = "<h3>Shopping Cart</h3>";

        let total = 0;
        cartItems.forEach((item, index) => {
            cartDiv.innerHTML += `
                <div class="cart-item">
                    <span>${item.name}: $${item.price.toFixed(2)}</span>
                    <button class="remove-btn" onclick="removeItem(${index})">X</button>
                </div>
            `;
            total += item.price;
        });

        cartDiv.innerHTML += `<strong>Total: $${total.toFixed(2)}</strong>`;
    }
</script>

<!-- Donation Label Fix -->
<div class="donation-label">
    <label for="donation-category">Donation Designation:</label>
    <select id="donation-category" onchange="updateCart()">
        <option value="Event Food">Event Food</option>
        <option value="Event Facilities">Event Facilities</option>
        <option value="Presenter Fees">Presenter Fees</option>
        <option value="Annual Business Expenses">Annual Business Expenses</option>
        <option value="SC AHEAD BOD Discretion">SC AHEAD BOD Discretion</option>
    </select>
</div>
